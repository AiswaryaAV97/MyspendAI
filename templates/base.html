<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>{{ SmartSpendAI }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
    :root{
      --bg1:#0ea5e9; 
      --bg2:#9333ea; 
      --card:#ffffff; 
      --muted:#6b7280; 
      --accent:#111827;
    }

    *{box-sizing:border-box}

    body{
      margin:0; 
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial;
      min-height:100vh; 
      background:
        linear-gradient(135deg, rgba(14,165,233,.60), rgba(147,51,234,.60)),
        url('{{ url_for("static", filename="img/financial-advisor.png") }}') center / cover no-repeat fixed;
    }

    /* Card container */
    .card{
      width: min(1200px, 95vw); 
      background: var(--card);
      border-radius: 18px; 
      padding: 28px;
      box-shadow: 0 10px 30px rgba(0,0,0,.2);
      margin: 20px auto; /* center horizontally */
    }

    /* Fullscreen card for modules like expense */
    .card.fullscreen {
      width: 100vw;
      max-width: 100%;
      height: 100vh;
      margin: 0;
      border-radius: 0;
      padding: 20px;
      box-shadow: none;
      background: transparent; /* let body gradient show */
    }

    /* Login/Register forms (small screens) */
    .card.form-card {
      width: min(480px, 92vw);
      padding: 28px;
    }

    h1{ margin:0 0 8px; font-size:28px; line-height:1.2 }
    p.sub{ margin:0 0 24px; color:var(--muted) }

    form{ display:grid; gap:14px }
    .field{ display:grid; gap:6px }

    label{ font-size:14px; color:#374151 }

    input{
      width:100%; padding:12px 14px; font-size:16px; border-radius:12px;
      border:1px solid #e5e7eb; outline:none;
    }
    input:focus{ border-color:#3b82f6; box-shadow:0 0 0 3px rgba(59,130,246,.2) }

    .btn{
      padding:12px 16px; border:none; border-radius:12px; font-size:16px; cursor:pointer;
      background:#111827; color:#fff; transition:transform .02s ease;
    }
    .btn:active{ transform:translateY(1px) }

    .link{ color:#6d28d9; text-decoration:none }
    .center{ text-align:center }

    .flash{ padding:10px 12px; border-radius:10px; margin-bottom:14px; font-size:14px }
    .error{ background:#fee2e2; color:#7f1d1d; }
    .success{ background:#dcfce7; color:#14532d; }
    .info{ background:#e0f2fe; color:#0c4a6e; }

    @media (max-width: 768px) {
      .card {
        width: 95vw;
        padding: 16px;
      }
    }
    </style>
</head>

<body>
    <div class="card
        {% if request.endpoint in ['login', 'register'] %}form-card{% endif %}
        {% if request.endpoint == 'expense' %}fullscreen{% endif %}
    ">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for cat, msg in messages %}
        <div class="flash {{ cat }}">{{ msg }}</div>
        {% endfor %}
        {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </div>
    <!-- ðŸ”¹ Add the floating AI Chatbot widget globally -->
    {% include "chatbot_widget.html" %}
</body>
</html>
